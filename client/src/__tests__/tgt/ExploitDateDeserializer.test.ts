import * as moment from 'moment';
import { ExploitDateDeserializer } from '../../state/utils/ExploitDateDeserializer';
import { ExploitDateModel } from '../../workflow/tgt-page/models/ExploitDateModel';

describe('Exploit Date Deserializer', () => {
  it('should turn backend response into moment array', () => {
    let json = [
      {
        id: 1,
        exploitDate: '2020-11-18T00:00:00.000+0000',
        rfiId: 34
      },
     {
        id: 2,
        exploitDate: '2020-11-19T00:00:00.000+0000',
        rfiId: 34
      }
    ];
    let dates: ExploitDateModel[] = ExploitDateDeserializer.deserialize(json);

    expect(dates[0].exploitDate.isSame(moment.utc('2020-11-18'), 'second')).toBeTruthy();
    expect(dates[1].exploitDate.isSame(moment.utc('2020-11-19'), 'second')).toBeTruthy();
  });


});