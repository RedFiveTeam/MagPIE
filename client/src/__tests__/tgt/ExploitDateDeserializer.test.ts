import { Moment } from 'moment';
import * as moment from 'moment';
import { ExploitDateDeserializer } from '../../state/utils/ExploitDateDeserializer';

describe('Exploit Date Deserializer', () => {
  it('should turn backend response into moment array', () => {
    let json = [
      {
        exploitDate: '2020-11-18T00:00:00.000+0000',
        rfiId: 34
      },
     {
        exploitDate: '2020-11-19T00:00:00.000+0000',
        rfiId: 34
      }
    ];
    let dates: Moment[] = ExploitDateDeserializer.deserialize(json);

    expect(dates[0].isSame(moment.utc('2020-11-18'), 'second')).toBeTruthy();
    expect(dates[1].isSame(moment.utc('2020-11-19'), 'second')).toBeTruthy();
  });


});